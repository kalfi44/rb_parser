<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Top Level Namespace
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo;
    
    
    <span class="title">Top Level Namespace</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Top Level Namespace
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#att_2_parse-instance_method" title="#att_2_parse (instance method)">#<strong>att_2_parse</strong>(data)  &#x21d2; Array&lt;Hash&lt;String, String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used to parse content of attachment nr.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#att_3_4_parse-instance_method" title="#att_3_4_parse (instance method)">#<strong>att_3_4_parse</strong>(data)  &#x21d2; Array&lt;Hash&lt;String, String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used to parse content of attachment nr.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#att_5_6_parse-instance_method" title="#att_5_6_parse (instance method)">#<strong>att_5_6_parse</strong>(data)  &#x21d2; Array&lt;Hash&lt;String, String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used to parse content of attachment nr.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#att_7_8_parse-instance_method" title="#att_7_8_parse (instance method)">#<strong>att_7_8_parse</strong>(data)  &#x21d2; Array&lt;Hash&lt;String, String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Usage of this function is not advised as codes desrcibed in attachment 7
and 8 need to be further understood  This method is used to parse content
of attachment nr.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#get_code-instance_method" title="#get_code (instance method)">#<strong>get_code</strong>(operator, section_code, chapter_code, paragraph_code)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used to return hash holding meaning of section, chapter and
pragraph code as well as last digit of paragraph code.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#scrapper-instance_method" title="#scrapper (instance method)">#<strong>scrapper</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used to scrap ordinance from gofin-web page Logic behind
this method (like fixed values 2 and 4)  is discribed in more details in
linked file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#split_and_assemble-instance_method" title="#split_and_assemble (instance method)">#<strong>split_and_assemble</strong>(str)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used to split string after first space and then return
content before and after said space.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="att_2_parse-instance_method">
  
    #<strong>att_2_parse</strong>(data)  &#x21d2; <tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used to parse content of attachment nr. 2 It distincts
pragraphs describing sections and chapters by  diffrent html elements
(&lt;p&gt; and &lt;b&gt; or &lt;strong&gt;)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Nokogiri</span>
      
      
        <span class='type'>(<tt>Nokogiri::XML::Element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>element with content of attachment 2</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>It returns an array of 2 hash tables. These hash table key is code and
value is name. First Hash holds codes of sections and second about
chapters.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gofin_parser.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_att_2_parse'>att_2_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_chap'>chap</span> <span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      <span class='id identifier rubyid_sec'>sec</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>strong</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_sec'>sec</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_chap'>chap</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>end</span> 
 
  <span class='id identifier rubyid_sections'>sections</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_chapters'>chapters</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_sec'>sec</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d{3}\s*-\s*(\p{L}*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> 
    <span class='kw'>if</span> <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>!=</span><span class='kw'>nil</span>
      <span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_sections'>sections</span><span class='lbracket'>[</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_strip!'>strip!</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_strip!'>strip!</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_chap'>chap</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\d]\d{4}\s+(\S*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_split_and_assemble'><span class='object_link'><a href="#split_and_assemble-instance_method" title="#split_and_assemble (method)">split_and_assemble</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_chapters'>chapters</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
    <span class='kw'>end</span>     
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_sections'>sections</span><span class='comma'>,</span> <span class='id identifier rubyid_chapters'>chapters</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="att_3_4_parse-instance_method">
  
    #<strong>att_3_4_parse</strong>(data)  &#x21d2; <tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used to parse content of attachment nr. 3 or nr. 4 It can be
used on both of the attachments as they have simillar structure.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Nokogiri</span>
      
      
        <span class='type'>(<tt>Nokogiri::XML::Element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>element with content of attachment 3 or attachment 4</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>It returns an array of 2 hash tables. These hash table key is code and
value is name. First Hash holds codes of paragraphs and second about
meaning of last digit in paragraph code.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106
107
108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gofin_parser.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_att_3_4_parse'>att_3_4_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_paragraphs'>paragraphs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_last_digit_code'>last_digit_code</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\d]\s+(\S*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_split_and_assemble'><span class='object_link'><a href="#split_and_assemble-instance_method" title="#split_and_assemble (method)">split_and_assemble</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_last_digit_code'>last_digit_code</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\d]\d{2}\s+(\S*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_split_and_assemble'><span class='object_link'><a href="#split_and_assemble-instance_method" title="#split_and_assemble (method)">split_and_assemble</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_paragraphs'>paragraphs</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_paragraphs'>paragraphs</span><span class='comma'>,</span> <span class='id identifier rubyid_last_digit_code'>last_digit_code</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="att_5_6_parse-instance_method">
  
    #<strong>att_5_6_parse</strong>(data)  &#x21d2; <tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used to parse content of attachment nr. 5 or nr. 6 It can be
used on both of the attachments as they have simillar structure.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Nokogiri</span>
      
      
        <span class='type'>(<tt>Nokogiri::XML::Element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>element with content of attachment 5 or attachment 6</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>It returns hash table of codes and names described in attachment 5 or 6.
These hash table key is code and value is name.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121
122
123
124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gofin_parser.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_att_5_6_parse'>att_5_6_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_paragraphs'>paragraphs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\d]\d{2}\s+(\S*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_split_and_assemble'><span class='object_link'><a href="#split_and_assemble-instance_method" title="#split_and_assemble (method)">split_and_assemble</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_paragraphs'>paragraphs</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
    <span class='kw'>end</span>     
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_paragraphs'>paragraphs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="att_7_8_parse-instance_method">
  
    #<strong>att_7_8_parse</strong>(data)  &#x21d2; <tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'>
<p>Consult meaning of data returned by this function and apply possible
changes</p>
</div>
  </div>


<p>Usage of this function is not advised as codes desrcibed in attachment 7
and 8 need to be further understood  This method is used to parse content
of attachment nr. 7 or nr. 8 It can be used on both of the attachments as
they have simillar structure.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Nokogiri</span>
      
      
        <span class='type'>(<tt>Nokogiri::XML::Element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>element with content of attachment 7 or attachment 8</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>It returns an array of 2 hash tables. These hash table key is code and
value is name. First Hash holds codes of sections and second about codes of
pargraphs from attachment 7 or 8.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gofin_parser.rb', line 137</span>

<span class='kw'>def</span> <span class='id identifier rubyid_att_7_8_parse'>att_7_8_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_att_p'>att_p</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_att_sb'>att_sb</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_att_sec'>att_sec</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_att_par'>att_par</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
 
  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_att_p'>att_p</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_att_sb'>att_sb</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>strong</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_att_sb'>att_sb</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_att_sb'>att_sb</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\d]\d{2}\s+(\p{L}*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> 
    <span class='kw'>if</span> <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>!=</span><span class='kw'>nil</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_split_and_assemble'><span class='object_link'><a href="#split_and_assemble-instance_method" title="#split_and_assemble (method)">split_and_assemble</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_att_sec'>att_sec</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_att_p'>att_p</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\d]\d{5}\s+(\S*(\s|\p{Zs})*)+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_matched_string'>matched_string</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_split_and_assemble'><span class='object_link'><a href="#split_and_assemble-instance_method" title="#split_and_assemble (method)">split_and_assemble</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_att_par'>att_par</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
    <span class='kw'>end</span>     
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_att_sec'>att_sec</span><span class='comma'>,</span> <span class='id identifier rubyid_att_par'>att_par</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_code-instance_method">
  
    #<strong>get_code</strong>(operator, section_code, chapter_code, paragraph_code)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used to return hash holding meaning of section, chapter and
pragraph code as well as last digit of paragraph code. It is based on
methods from gofin_parser.</p>

<p>This distinction is needed because some paragraphs can have same code  and
yet different name according to income or expense</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>operator</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>should be either “w” or “d”.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>section_code</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>is code of section that we want to read</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>chapter_code</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>is code of chapter that we want to read</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>paragraph_code</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>is code of paragraph that we want to read. It should include last digit
also as it will be parsed in this function.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>It returns has table with following keys(which are symbols):</p>
<ul><li>
<p>:section [String] Definition of section code</p>
</li><li>
<p>:chapter [String] Definition of chapter code</p>
</li><li>
<p>:paragraph [String] Definition of paragraph code</p>
</li><li>
<p>:last_digit [String] Definition of last_digit in pargraph code</p>
</li></ul>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'dictionary.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_operator'>operator</span><span class='comma'>,</span> <span class='id identifier rubyid_section_code'>section_code</span><span class='comma'>,</span> <span class='id identifier rubyid_chapter_code'>chapter_code</span><span class='comma'>,</span> <span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_scrapper'><span class='object_link'><a href="#scrapper-instance_method" title="#scrapper (method)">scrapper</a></span></span>

<span class='comment'># in case we need console version 
</span><span class='embdoc_beg'>=begin	if ARGV.length != 4
</span><span class='embdoc'>		raise ArgumentError.new(&#39;Wrong number of arguments. Expected 4. Operator, section_code, chapter_code, paragraph_code.&#39;)
</span><span class='embdoc'>	elsif ARGV[0] != &#39;d&#39; and ARGV[0] != &#39;w&#39;
</span><span class='embdoc'>		raise ArgumentError.new(&#39;Wrong operator argument. Expected \&#39;d\&#39;for income or \&#39;w\&#39; for expense.&#39;)
</span><span class='embdoc'>	end
</span><span class='embdoc'>
</span><span class='embdoc'>	operator = ARGV[0]
</span><span class='embdoc'>	section_code = ARGV[1]
</span><span class='embdoc'>	chapter_code = ARGV[2]
</span><span class='embdoc'>	paragraph_code = ARGV[3].dup
</span><span class='embdoc_end'>=end
</span>
	<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>

	<span class='kw'>if</span> <span class='id identifier rubyid_operator'>operator</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_sections'>sections</span><span class='comma'>,</span> <span class='id identifier rubyid_chapters'>chapters</span> <span class='op'>=</span> <span class='id identifier rubyid_att_2_parse'><span class='object_link'><a href="#att_2_parse-instance_method" title="#att_2_parse (method)">att_2_parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_paragraphs_income'>paragraphs_income</span><span class='comma'>,</span> <span class='id identifier rubyid_last_digit_income'>last_digit_income</span> <span class='op'>=</span> <span class='id identifier rubyid_att_3_4_parse'><span class='object_link'><a href="#att_3_4_parse-instance_method" title="#att_3_4_parse (method)">att_3_4_parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_additional_paragraphs'>additional_paragraphs</span> <span class='op'>=</span> <span class='id identifier rubyid_att_5_6_parse'><span class='object_link'><a href="#att_5_6_parse-instance_method" title="#att_5_6_parse (method)">att_5_6_parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_last_digit'>last_digit</span> <span class='op'>=</span> <span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:section</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_sections'>sections</span><span class='lbracket'>[</span><span class='id identifier rubyid_section_code'>section_code</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:chapter</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_chapters'>chapters</span><span class='lbracket'>[</span><span class='id identifier rubyid_chapter_code'>chapter_code</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:last_digit</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_last_digit_income'>last_digit_income</span><span class='lbracket'>[</span><span class='id identifier rubyid_last_digit'>last_digit</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_additional_paragraphs'>additional_paragraphs</span><span class='lbracket'>[</span><span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>nil</span> <span class='op'>?</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:paragraph</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_paragraphs_income'>paragraphs_income</span><span class='lbracket'>[</span><span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:paragraph</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_additional_paragraphs'>additional_paragraphs</span><span class='lbracket'>[</span><span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rbracket'>]</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
	<span class='kw'>elsif</span> <span class='id identifier rubyid_operator'>operator</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_sections'>sections</span><span class='comma'>,</span> <span class='id identifier rubyid_chapters'>chapters</span> <span class='op'>=</span> <span class='id identifier rubyid_att_2_parse'><span class='object_link'><a href="#att_2_parse-instance_method" title="#att_2_parse (method)">att_2_parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_paragraphs_expens'>paragraphs_expens</span><span class='comma'>,</span> <span class='id identifier rubyid_last_digit_expense'>last_digit_expense</span> <span class='op'>=</span> <span class='id identifier rubyid_att_3_4_parse'><span class='object_link'><a href="#att_3_4_parse-instance_method" title="#att_3_4_parse (method)">att_3_4_parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_additional_paragraphs'>additional_paragraphs</span> <span class='op'>=</span> <span class='id identifier rubyid_att_5_6_parse'><span class='object_link'><a href="#att_5_6_parse-instance_method" title="#att_5_6_parse (method)">att_5_6_parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_last_digit'>last_digit</span> <span class='op'>=</span> <span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:section</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_sections'>sections</span><span class='lbracket'>[</span><span class='id identifier rubyid_section_code'>section_code</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:chapter</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_chapters'>chapters</span><span class='lbracket'>[</span><span class='id identifier rubyid_chapter_code'>chapter_code</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:last_digit</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_last_digit_income'>last_digit_income</span><span class='lbracket'>[</span><span class='id identifier rubyid_last_digit'>last_digit</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_additional_paragraphs'>additional_paragraphs</span><span class='lbracket'>[</span><span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>nil</span> <span class='op'>?</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:paragraph</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_paragraphs_income'>paragraphs_income</span><span class='lbracket'>[</span><span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:paragraph</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_additional_paragraphs'>additional_paragraphs</span><span class='lbracket'>[</span><span class='id identifier rubyid_paragraph_code'>paragraph_code</span><span class='rbracket'>]</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Wrong operator argument. Expected \&#39;d\&#39;for income or \&#39;w\&#39; for expense.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scrapper-instance_method">
  
    #<strong>scrapper</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used to scrap ordinance from gofin-web page Logic behind
this method (like fixed values 2 and 4)  is discribed in more details in
linked file.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gofin_parser.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scrapper'>scrapper</span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.przepisy.gofin.pl/przepisy,4,16,194,1276,131381,20190101,rozporzadzenie-ministra-finansow-z-dnia-2032010-r-w-sprawie.html</span><span class='tstring_end'>&#39;</span></span>
  
  <span class='id identifier rubyid_unparsed_page'>unparsed_page</span> <span class='op'>=</span> <span class='const'>HTTParty</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parsed_page'>parsed_page</span> <span class='op'>=</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>HTML</span><span class='lparen'>(</span><span class='id identifier rubyid_unparsed_page'>unparsed_page</span><span class='rparen'>)</span>
 
  <span class='id identifier rubyid_scrapped_data'>scrapped_data</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_parsed_page'>parsed_page</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>div</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Załącznik nr \d</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_scrapped_data'>scrapped_data</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_scrapped_data'>scrapped_data</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> 
    <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+=</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>div.PolozenieTresciRight_NazwaSymbol</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
    <span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_sum'>sum</span><span class='op'>==</span><span class='int'>2</span>
      <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
    <span class='kw'>end</span> 
    <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='int'>4</span>
    <span class='id identifier rubyid_sum'>sum</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="split_and_assemble-instance_method">
  
    #<strong>split_and_assemble</strong>(str)  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used to split string after first space and then return
content before and after said space</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>to be split</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Two element array containig string before first space and string after it</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gofin_parser.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_split_and_assemble'>split_and_assemble</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_chapter_name'>chapter_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>1</span><span class='op'>...</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_chapter_name'>chapter_name</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_chapter_name'>chapter_name</span><span class='period'>.</span><span class='id identifier rubyid_strip!'>strip!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Apr 12 00:12:06 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.0).
</div>

    </div>
  </body>
</html>